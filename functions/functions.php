<?function base64_url_encode($e){return strtr(base64_encode($e),'+/=','_,-');}function base64_url_decode($e){return base64_decode(strtr($e,'_,-','+/='));}function bigintval($f){$f=preg_replace("/[^0-9]/i","",$f);if($f=="")$f=0;return $f;}function breakKey($g,$h,$j=0){$h=mb_strtolower($h,"UTF-8");$l=explode(".",$g);$n='';$o=explode(" ",$h);$p=array();$q=array();foreach($l as $r=>$s){$s=mb_strtolower($s,"UTF-8");$t=explode(" ",$s);$u=array_intersect($o,$t);$p[$r]=count($u);$q[$r]=$u;}arsort($p);$w=0;foreach($p as $r=>$s){$w++;if(isset($l[$r])&&isset($q[$r])){$n=$n.replaceTag(cut_string($l[$r],200),$q[$r]).'. ';}if($w==3)break;}unset($u);unset($p);unset($q);if($j==1)$x->text.=strip_tags($n);$n=str_replace("</b>"," ",$n);return $n;}function check_url_status($y,$z=array()){if(!filter_var($y,FILTER_VALIDATE_URL))return false;$aa=get_headers($y);$bb=$aa[0];$cc=0;switch($bb){case  'HTTP/1.1 200 OK':case  'HTTP/1.0 200 OK':$cc=200;break;case  'HTTP/1.1 301 Moved Permanently':$cc=301;break;case  'HTTP/1.1 404 File not found':$cc=404;break;default:$cc=200;break;}if($z){if(!is_array($z)){$z=array($z);}return in_array($cc,$z);}else{return $bb;}}function checkIP($dd=array()){if(!in_array($_SERVER['REMOTE_ADDR'],$dd)){return false;}return true;}function check_ip_test(){return $_SERVER['REMOTE_ADDR']==IP_ADDRESS_TEST||$_SERVER['SERVER_NAME']=='localhost';}function check_ip_cron(){return $_SERVER['REMOTE_ADDR']==IP_ADDRESS_CRON;}function check_authen(){$ee=$_SERVER['HTTP_HOST'];if(empty($_SERVER['PHP_AUTH_DIGEST'])){header('HTTP/1.1 401 Unauthorized');header('WWW-Authenticate: Digest realm="'.$ee.'",qop="auth",nonce="'.uniqid().'",opaque="'.md5($ee).'"');die('Text to send if user hits Cancel button');}}function cache_set($ff,$gg,$hh=0){if(!(is_string($gg)||is_numeric($gg))||$ff==''){return false;}$ii=time();if($hh<=$ii){$hh=$ii+86400;}$r=md5($ff);$jj='DELETE FROM cache WHERE cid = \''.$r.'\'';$kk=new db_execute($jj);unset($kk);$jj='INSERT INTO cache (cid, body, created, expired_time) VALUES (\''.$r.'\', \''.$gg.'\', '.$ii.', '.$hh.')';$kk=new db_execute($jj);unset($kk);return true;}function cache_get($ff){if($ff==''){return false;}$r=md5($ff);$jj='SELECT * FROM cache WHERE cid = \''.$r.'\' LIMIT 0,1';$ll=new db_query($jj);$mm=mysqli_fetch_assoc($ll->result);if(empty($mm)||$mm['expired_time']<time()||empty($mm['body'])){return false;}else{return $mm;}}function cache_clear(){$jj='DELETE FROM cache WHERE expired_time < '.time().'';$kk=new db_execute($jj);return true;}function cache_del($ff){if($ff==''){return false;}$r=md5($ff);$jj='DELETE FROM cache WHERE cid = \''.$r.'\'';$kk=new db_execute($jj);return true;}function curl_get_content($y,$nn="",$oo="",$pp=false){$qq=curl_init();curl_setopt($qq,CURLOPT_URL,$y);if($nn){curl_setopt($qq,CURLOPT_POST,1);curl_setopt($qq,CURLOPT_POSTFIELDS,$nn);}if($oo){curl_setopt($qq,CURLOPT_REFERER,$oo);}curl_setopt($qq,CURLOPT_FOLLOWLOCATION,1);curl_setopt($qq,CURLOPT_USERAGENT,"Mozilla/6.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.7) Gecko/20050414 Firefox/1.0.3");curl_setopt($qq,CURLOPT_SSL_VERIFYPEER,false);curl_setopt($qq,CURLOPT_SSL_VERIFYHOST,false);if($pp){curl_setopt($qq,CURLOPT_COOKIEJAR,$pp);curl_setopt($qq,CURLOPT_COOKIEFILE,$pp);}curl_setopt($qq,CURLOPT_RETURNTRANSFER,1);$rr=curl_exec($qq);if(curl_error($qq)){echo 'Loi CURL : '.(curl_error($qq));}curl_close($qq);return $rr;}function curl_multiRequest($ss,$tt=array()){$uu=array();$u=array();$vv=curl_multi_init();foreach($ss as $ww=>$xx){$uu[$ww]=curl_init();$y=(is_array($xx)&&!empty($xx['url']))?$xx['url']:$xx;curl_setopt($uu[$ww],CURLOPT_URL,$y);curl_setopt($uu[$ww],CURLOPT_HEADER,0);curl_setopt($uu[$ww],CURLOPT_RETURNTRANSFER,1);if(is_array($xx)){if(!empty($xx['post'])){curl_setopt($uu[$ww],CURLOPT_POST,1);curl_setopt($uu[$ww],CURLOPT_POSTFIELDS,$xx['post']);}}if(!empty($tt)){curl_setopt_array($uu[$ww],$tt);}curl_multi_add_handle($vv,$uu[$ww]);}$yy=null;do{curl_multi_exec($vv,$yy);}while($yy>0);foreach($uu as $ww=>$zz){$u[$ww]=curl_multi_getcontent($zz);curl_multi_remove_handle($vv,$zz);}curl_multi_close($vv);return $u;}function callback($aaa){$bbb=array(chr(9));$aaa=str_replace($bbb,"",$aaa);return $aaa;}function check_email_address($ccc){if(!ereg("^[^@]{1,64}@[^@]{1,255}$",$ccc)){return false;}$ddd=explode("@",$ccc);$eee=explode(".",$ddd[0]);for($w=0;$w<sizeof($eee);$w++){if(!ereg("^(([A-Za-z0-9!#$%&'*+/=?^_`{|}~-][A-Za-z0-9!#$%&'*+/=?^_`{|}~\.-]{0,63})|(\"[^(\\|\")]{0,62}\"))$",$eee[$w])){return false;}}if(!ereg("^\[?[0-9\.]+\]?$",$ddd[1])){$fff=explode(".",$ddd[1]);if(sizeof($fff)<2){return false;}for($w=0;$w<sizeof($fff);$w++){if(!ereg("^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|([A-Za-z0-9]+))$",$fff[$w])){return false;}}}return true;}function check_email_address_v2($ccc){return filter_var($ccc,FILTER_VALIDATE_EMAIL);}function cut_string($bbb,$ggg,$hhh=" ..."){$iii=mb_strlen($bbb,"UTF-8");if($iii<=$ggg)return $bbb;$jjj=mb_substr($bbb,0,$ggg,"UTF-8");if(mb_substr($bbb,$ggg,1,"UTF-8")==" ")return $jjj.$hhh;$kkk=mb_strrpos($jjj," ","UTF-8");if($kkk<$ggg-20)return $jjj.$hhh;else return mb_substr($jjj,0,$kkk,"UTF-8").$hhh;}function createChecksumDetailPost($lll,$mmm){return md5($mmm.$lll);}function curlExec($nnn,$ss){if(is_array($nnn)){$ooo=array();$ppp=array();$qqq=curl_multi_init();foreach($nnn as $r=>$rrr){$ppp[$r]=curl_init($rrr["url"]);curl_setopt($ppp[$r],CURLOPT_RETURNTRANSFER,1);curl_setopt($ppp[$r],CURLOPT_HTTPHEADER,array("Content-Type"=>"application/json","Accept"=>"application/json","ApiKey"=>"41460b3f-8f35-4878-b78d-49ca7f29c071"));curl_setopt($ppp[$r],CURLOPT_HEADER,0);curl_setopt($ppp[$r],CURLOPT_SSL_VERIFYPEER,false);curl_setopt($ppp[$r],CURLOPT_SSL_VERIFYHOST,false);curl_multi_add_handle($qqq,$ppp[$r]);curl_close($ppp[$r]);}do{curl_multi_exec($qqq,$yy);}while($yy>0);curl_multi_close($qqq);foreach($nnn as $r=>$rrr){$ooo[$r]=curl_multi_getcontent($ppp[$r]);curl_close($ppp[$r]);unset($ppp[$r]);}return $ooo;}}function check_refer_site(){if(!isset($_SERVER['HTTP_REFERER'])){return true;}$sss=array('localhost','facebook.com','www.facebook.com','hott.vn','www.hott.vn','cunach.com','me.zing.vn','twitter.com','google.com','www.google.com','google.com.vn','www.google.com.vn','bing.com','yahoo.com','coccoc.com');$y=parse_url($_SERVER['HTTP_REFERER']);if(in_array($y['host'],$sss))return true;else return false;}function check_crawler_bot(){if(!isset($_SERVER['HTTP_USER_AGENT']))return true;$ttt=$_SERVER['HTTP_USER_AGENT'];$uuu=false;switch(true){case  strpos($ttt,'Googlebot')>-1:$uuu=true;break;case  strpos($ttt,'facebook')>-1:$uuu=true;break;case  strpos($ttt,'bingbot')>-1:$uuu=true;break;case  strpos($ttt,'coccoc')>-1:$uuu=true;break;case  strpos($ttt,'crawler')>-1||strpos($ttt,'Crawler')>-1:$uuu=true;break;default:$uuu=false;break;}return $uuu;}function date_convert_string($ii){$vvv=time();$www=$vvv-$ii;if($www/60<=1){return 'v&#7915;a m&#7899;i &#273;ây';}if($www/60>1&&$www/3600<1){return (int)($www/60).' phút tr&#432;&#7899;c';}if($www/3600>=1&&$www/86400<1){return (int)($www/3600).' gi&#7901; tr&#432;&#7899;c';}if($www/86400>=1&&$www/(86400*3)<1){return (int)($www/86400).' ngày tr&#432;&#7899;c';}if($www/(86400*3)>=1&&$www/(86400*30)<1){return date('d \t\h\á\n\g m',$ii);}if($www/(86400*30)>=1&&$www/(86400*30*3)<1){if($www/(86400*30*2)<2)return 'tháng tr&#432;&#7899;c';else return '2 tháng tr&#432;&#7899;c';}if($www/(86400*30*3)>=1){return date('d \t\h\á\n\g m Y',$ii);}}function error_404_document(){header("HTTP/1.0 404 Not Found");$xxx=new RainTPL();echo $xxx->draw('error_404',1);exit();}function format_number($yyy,$zzz=0){if($zzz==0){$aaaa=number_format($yyy,2,".",",");if(intval(substr($aaaa,-2,2))==0)$aaaa=number_format($yyy,0,".",",");elseif(intval(substr($aaaa,-1,1))==0)$aaaa=number_format($yyy,1,".",",");return $aaaa;}else{$aaaa=number_format($yyy,2,".","");if(intval(substr($aaaa,-2,2))==0)$aaaa=number_format($yyy,0,".","");return $aaaa;}}function get_domain($y){$bbbb=parse_url($y);return $bbbb['scheme']?$bbbb['scheme'].'://'.$bbbb['host']:'http://'.$bbbb['host'];}function getURL($cccc=0,$dddd=0,$eeee=1,$ffff=1,$gggg=''){$y='';$hhhh='/';if($dddd!=0)$hhhh="";if($cccc!=0){if(isset($_SERVER['SERVER_NAME'])){$y.='http://'.$_SERVER['SERVER_NAME'];if(isset($_SERVER['SERVER_PORT']))$y.=":".$_SERVER['SERVER_PORT'];$y.=$hhhh;}}if($dddd!=0){if(isset($_SERVER['SCRIPT_NAME']))$y.=substr($_SERVER['SCRIPT_NAME'],0,strrpos($_SERVER['SCRIPT_NAME'],'/')+1);}if($eeee!=0){if(isset($_SERVER['SCRIPT_NAME']))$y.=substr($_SERVER['SCRIPT_NAME'],strrpos($_SERVER['SCRIPT_NAME'],'/')+1);}if($ffff!=0){$y.='?';reset($_GET);$w=0;if($gggg!=''){$iiii=explode('|',$gggg);while(list($jjjj,$kkkk)=each($_GET)){if(array_search($jjjj,$iiii)===false){$w++;if($w>1)$y.='&'.$jjjj.'='.@urlencode($kkkk);else $y.=$jjjj.'='.@urlencode($kkkk);}}}else{while(list($jjjj,$kkkk)=each($_GET)){$w++;if($w>1)$y.='&'.$jjjj.'='.@urlencode($kkkk);else $y.=$jjjj.'='.@urlencode($kkkk);}}}$y=str_replace('"','&quot;',strval($y));return $y;}function getValue($llll,$mmmm="int",$nnnn="GET",$oooo=0,$pppp=0){$s=$oooo;switch($nnnn){case  "GET":if(isset($_GET[$llll]))$s=$_GET[$llll];break;case  "POST":if(isset($_POST[$llll]))$s=$_POST[$llll];break;case  "COOKIE":if(isset($_COOKIE[$llll]))$s=$_COOKIE[$llll];break;case  "SESSION":if(isset($_SESSION[$llll]))$s=$_SESSION[$llll];break;default:if(isset($_GET[$llll]))$s=$_GET[$llll];break;}$qqqq=array("int"=>@intval($s),"str"=>trim(@strval($s)),"flo"=>@floatval($s),"dbl"=>@doubleval($s),"arr"=>$s);foreach($qqqq as $r=>$rrrr){if($mmmm==$r){if($pppp!=0){switch($pppp){case 1:$rrrr=replaceMQ($rrrr);break;case 2:$rrrr=htmlspecialbo($rrrr);break;case 3:$rrrr=htmlspecialbo(replaceMQ($rrrr));break;}}if(($mmmm!="str")&&($mmmm!="arr")&&(strval($rrrr)=="INF"))return0;return $rrrr;break;}}return(intval($s));}function getValueBound($ssss=""){$tttt=trim(preg_replace("/[^0-9.,]/i"," ",$ssss));$uuuu=explode(",",$tttt);$vvvv=array();for($w=0;$w<=3;$w++){$vvvv[$w]=isset($uuuu[$w])?doubleval($uuuu[$w]):0;}return $vvvv;}function generate_picture_name($wwww=''){if(!$wwww)return generate_random_string(3).time();else{$xxxx=explode('.',$wwww);$yyyy=array_pop($xxxx);return generate_random_string(3).time().'.'.$yyyy;}}function get_cookie_anatomy_sex(){$zzzz=getValue('anatomy-sex','str','COOKIE','male',3);switch($zzzz){case  'female':$aaaa=DOITUONG_NUGIOI;break;case  'male':default:$aaaa=DOITUONG_NAMGIOI;break;}return $aaaa;}function get_header_type($y){$aa=get_headers($y,1);$aa=$aa['Content-Type'];$aaaaa='';switch($aa){case  'image/jpeg':case  'image/jpg':$aaaaa='jpg';break;case  'image/png':$aaaaa='png';break;case  'image/gif':$aaaaa='gif';break;}return $aaaaa;}function get_no_available_picture($bbbbb=1){global $ccccc;return DOMAIN_STATIC.'/themes'.$ccccc.'/pc/img/noImage.jpg';}function get_picture_path($ddddd,$eeeee='organic'){if(!$ddddd){return'';}$ii=preg_replace('/[^0-9]*/','',$ddddd);$ii=getdate($ii);return DOMAIN_STATIC_IMAGE.'/pictures/'.$ii['year'].'/'.$ii['mon'].'/'.$eeeee.'/'.$ddddd;}function get_picture_dir($ddddd,$eeeee='organic'){if(!$ddddd){return'';}$ii=preg_replace('/[^0-9]*/','',$ddddd);$ii=getdate($ii);return '/pictures/'.$ii['year'].'/'.$ii['mon'].'/'.$eeeee;}function get_limit_query_string($fffff,$ggggg){return ' LIMIT '.intval(($fffff-1)*$ggggg).','.$ggggg.' ';}function generate_dir_upload($wwww,$eeeee){if(!$wwww){return false;}$ii=preg_replace('/[^0-9]*/','',$wwww);$ii=getdate($ii);$hhhhh=$_SERVER['DOCUMENT_ROOT'].'/pictures/'.$ii['year'].'/'.$ii['mon'].'/'.$eeeee.'/';if(file_exists($hhhhh)){return $hhhhh;}if(mkdir($hhhhh,0777,1)){return $hhhhh;}else{return false;}}function generate_random_string($ggg=10){$iiiii='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';$jjjjj='';for($w=0;$w<$ggg;$w++){$jjjjj.=$iiiii[rand(0,strlen($iiiii)-1)];}return $jjjjj;}function get_link_upload_image($wwww){}function get_all_categories($kkkkk=''){global $lllll;if(isset($lllll['categories_menu'])){return $lllll;}$mmmmm=new db_query('SELECT cat_id,cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_NEWS);$nnnnn=array();if(is_int($kkkkk)){$nnnnn[]=array('cat_id'=>0,'cat_name'=>'Trang ch&#7911;','link_cat'=>'/home','is_active'=>0);while($ooooo=mysqli_fetch_assoc($mmmmm->result)){if($ooooo['cat_id']==$kkkkk){$ooooo['is_active']=1;}else{$ooooo['is_active']=0;}$ooooo['link_cat']=generate_cat_url($ooooo);$nnnnn[]=$ooooo;}$nnnnn[]=array('cat_id'=>0,'cat_name'=>'H&#7887;i - &#273;áp','link_cat'=>generate_qaa_url(),'is_active'=>0);$nnnnn[]=array('cat_id'=>0,'cat_name'=>'T&#7911; thu&#7889;c','link_cat'=>generate_medicine_box_url(),'is_active'=>0);}else{switch($kkkkk){case  'home':default:$nnnnn[]=array('cat_id'=>0,'cat_name'=>'Trang ch&#7911;','link_cat'=>'/home','is_active'=>1);while($ooooo=mysqli_fetch_assoc($mmmmm->result)){$ooooo['link_cat']=generate_cat_url($ooooo);$ooooo['is_active']=0;$nnnnn[]=$ooooo;}$nnnnn[]=array('cat_id'=>0,'cat_name'=>'H&#7887;i - &#273;áp','link_cat'=>generate_qaa_url(),'is_active'=>0);$nnnnn[]=array('cat_id'=>0,'cat_name'=>'T&#7911; thu&#7889;c','link_cat'=>generate_medicine_box_url(),'is_active'=>0);break;case  'qaa':$nnnnn[]=array('cat_id'=>0,'cat_name'=>'Trang ch&#7911;','link_cat'=>'/home','is_active'=>0);while($ooooo=mysqli_fetch_assoc($mmmmm->result)){$ooooo['link_cat']=generate_cat_url($ooooo);$ooooo['is_active']=0;$nnnnn[]=$ooooo;}$nnnnn[]=array('cat_id'=>0,'cat_name'=>'H&#7887;i - &#273;áp','link_cat'=>generate_qaa_url(),'is_active'=>1);$nnnnn[]=array('cat_id'=>0,'cat_name'=>'T&#7911; thu&#7889;c','link_cat'=>generate_medicine_box_url(),'is_active'=>0);break;case  'mbox':$nnnnn[]=array('cat_id'=>0,'cat_name'=>'Trang ch&#7911;','link_cat'=>'/home','is_active'=>0);while($ooooo=mysqli_fetch_assoc($mmmmm->result)){$ooooo['link_cat']=generate_cat_url($ooooo);$ooooo['is_active']=0;$nnnnn[]=$ooooo;}$nnnnn[]=array('cat_id'=>0,'cat_name'=>'H&#7887;i - &#273;áp','link_cat'=>generate_qaa_url(),'is_active'=>0);$nnnnn[]=array('cat_id'=>0,'cat_name'=>'T&#7911; thu&#7889;c','link_cat'=>generate_medicine_box_url(),'is_active'=>1);break;}}unset($mmmmm);$lllll['categories_menu']=$nnnnn;return $nnnnn;}function get_meta_description_category($ppppp){if(isset($ppppp['cat_desc'])&&$ppppp['cat_desc'])return $ppppp['cat_desc'];else if(isset($ppppp['cat_title'])&&$ppppp['cat_title'])return $ppppp['cat_title'];else if(isset($ppppp['cat_name'])&&$ppppp['cat_name'])return 'Thông tin v&#7873; '.$ppppp['cat_name'];else return 'Thông tin s&#7913;c kh&#7887;e, y t&#7871;, khám ch&#7919;a b&#7879;nh';}function get_meta_keyword_category($ppppp){if(isset($ppppp['cat_keyword'])&&$ppppp['cat_keyword'])return $ppppp['cat_keyword'];else if(isset($ppppp['cat_name'])&&$ppppp['cat_name'])return $ppppp['cat_name'].','.(isset($ppppp['cat_title'])?$ppppp['cat_title']:'').','.GENERAL_KEYWORD;else return GENERAL_KEYWORD;}function get_category_news(){$ll=new db_query('SELECT cat_id, cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_NEWS);return $ll->resultArray();}function get_category_hoidap(){$ll=new db_query('SELECT cat_id, cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_HOIDAP);return $ll->resultArray();}function get_category_thuoc(){$ll=new db_query('SELECT cat_id, cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_THUOC);return $ll->resultArray();}function get_menu_category_news(){$ll=new db_query('SELECT cat_id, cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_NEWS);$qqqqq=array();while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_cat']=generate_cat_url($ooooo);$qqqqq[]=$ooooo;}return $qqqqq;}function get_menu_category_hoidap(){$ll=new db_query('SELECT cat_id, cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_HOIDAP);$qqqqq=array();while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_cat']=generate_qaa_url($ooooo);$qqqqq[]=$ooooo;}return $qqqqq;}function get_menu_category_thuoc(){$ll=new db_query('SELECT cat_id, cat_name FROM categories WHERE cat_type = '.CATEGORY_TYPE_THUOC);$qqqqq=array();while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_cat']=generate_cat_url($ooooo);$ooooo['link_cat']='#';$qqqqq[]=$ooooo;}return $qqqqq;}function get_advertising($rrrrr,$sssss=1){$rrrrr=(int)$rrrrr;$ttttt=array();$ll=new db_query('SELECT * FROM advertising WHERE adv_position = '.$rrrrr.' LIMIT '.$sssss);if($sssss===1){$ooooo=mysqli_fetch_assoc($ll->result);unset($ll);$ooooo['adv_image']=get_picture_path($ooooo['adv_image']);$ooooo['adv_link']=$ooooo['adv_link'].'?utm_source=khangvn&utm_medium=banner&utm_campaign=visit';return $ooooo;}else{while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['adv_link']=$ooooo['adv_link'].'?utm_source=khangvn&utm_medium=banner&utm_campaign=visit';$ooooo['adv_image']=get_picture_path($ooooo['adv_image']);$ttttt[]=$ooooo;}}return $ttttt;}function get_color_category($uuuuu){$vvvvv=$uuuuu%5;switch($vvvvv){case 0:return '#cf4e00';case 1:return '#3f8e3b';case 2:return '#a11d0b';case 3:return '#984b55';case 4:return '#01819e';}}function get_facebook_like_button($y){return '<div class="fb-like" data-href="'.$y.'" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>';}function get_facebook_comment_frame($y){return '<div class="fb-comments" data-href="'.$y.'" data-numposts="5" data-colorscheme="light" data-width="700"></div>';}function get_facebook_embedded_post($y){return '<div class="fb-post" data-href="'.$y.'" data-width="500"></div>';}function get_image_src_from_html($wwwww,$xxxxx=''){$ttttt=array();$yyyyy=str_get_html($wwwww);$zzzzz=$yyyyy->find('img');foreach($zzzzz as $aaaaaa){$bbbbbb=$aaaaaa->src;if(in_array($bbbbbb,$ttttt))continue;$l=parse_url($bbbbbb);if(!isset($l['scheme'])||!isset($l['host'])){$ttttt[]=$xxxxx.$bbbbbb;}else{$ttttt[]=$bbbbbb;}}return $ttttt;}function get_qaa_listing_sidebar(){global $lllll;if(isset($lllll['qaa_listing_sidebar']))return $lllll['qaa_listing_sidebar'];$cccccc=array();$dddddd=new db_query('SELECT cdi_id,cdi_name FROM cat_disease LIMIT 5');while($ooooo=mysqli_fetch_assoc($dddddd->result)){$ooooo['cdi_name']=mb_strtolower($ooooo['cdi_name'],'utf8');$ooooo['cdi_name']=str_replace(array('b&#7879;nh','ch&#7913;ng'),'',$ooooo['cdi_name']);$ooooo['cdi_name']=trim($ooooo['cdi_name']);$ooooo['link_detail']='#';$cccccc[]=$ooooo;}unset($dddddd);$eeeeee=array();$ffffff=new db_query('SELECT que_title,que_id,cat_name FROM questions LEFT JOIN categories ON cat_id = que_cat_id WHERE que_type = 0 AND que_status = 1 ORDER BY que_date DESC LIMIT 9');$gggggg=0;while($hhhhhh=mysqli_fetch_assoc($ffffff->result)){$hhhhhh['link_detail']=generate_hoidap_detail($hhhhhh);$hhhhhh['is_first']=!$gggggg?1:0;$eeeeee[]=$hhhhhh;$gggggg++;}$lllll['qaa_listing_sidebar']=array('list_disease'=>$cccccc,'list_qaa'=>$eeeeee);return $lllll['qaa_listing_sidebar'];}function get_anatomy_data($zzzz=DOITUONG_NAMGIOI,$eeeee=SECTION_TYPE_FRONT){global $lllll;if(isset($lllll['anatomy_data']))return $lllll['anatomy_data'];if($zzzz==DOITUONG_NAMGIOI){$iiiiii=$eeeee==SECTION_TYPE_FRONT?'/themes/pc/img/nam-truoc.jpg':'/themes/pc/img/nam-sau.jpg';}else{$iiiiii=$eeeee==SECTION_TYPE_FRONT?'/themes/pc/img/nu-truoc.jpg':'/themes/pc/img/nu-sau.jpg';}$jjjjjj=array('image'=>$iiiiii);$ll=new db_query('SELECT anatomy_map.*,sec_id,sec_name
                              FROM anatomy_map
                              STRAIGHT_JOIN sections ON sec_id = ana_sec_id
                              WHERE ana_type = '.$eeeee.' AND ana_sex = '.$zzzz);while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_detail']=generate_section_detail($ooooo);$jjjjjj['data'][]=$ooooo;}$lllll['anatomy_data']=$jjjjjj;return $jjjjjj;}function get_news_xem_nhieu($yyy=8){global $lllll;if(isset($lllll['news_xem_nhieu']))return $lllll['news_xem_nhieu'];$yyy=intval($yyy);$ggggg=intval($yyy*2);$ll=new db_query('SELECT new_id,new_title,cat_name
                              FROM news
                               LEFT JOIN categories ON cat_id = new_cat_id
                              WHERE new_active = 1
                              AND new_date <= '.TIMESTAMP.'
                              AND new_view >= '.MIN_NEWS_VIEW.'
                              AND new_date >= '.MIN_TIME_NEWS_HOT.'
                              ORDER BY new_view DESC
                              LIMIT 0,'.$ggggg);$kkkkkk=array();while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_detail']=generate_news_detail_url($ooooo);$ooooo['new_title']=htmlspecialbo($ooooo['new_title']);$kkkkkk[]=$ooooo;}if(!$kkkkkk){$jj='SELECT new_id,new_title,cat_name
                FROM news
                LEFT JOIN categories ON cat_id = new_cat_id
                WHERE new_active = 1
                AND new_date <= '.TIMESTAMP.'
                AND new_view >= '.MIN_NEWS_VIEW.'
                ORDER BY new_view DESC
                LIMIT '.$ggggg;$ll=new db_query($jj);while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_detail']=generate_news_detail_url($ooooo);$ooooo['new_title']=htmlspecialbo($ooooo['new_title']);$kkkkkk[]=$ooooo;}}shuffle($kkkkkk);$llllll=0;$mmmmmm=array();foreach($kkkkkk as $nnnnnn){$llllll++;if($llllll>$yyy)break;$mmmmmm[]=$nnnnnn;}$lllll['news_xem_nhieu']=$mmmmmm;return $mmmmmm;}require_once $_SERVER['DOCUMENT_ROOT'].'/admin/resources/security/security_function_security.php';function get_news_random($yyy=8){global $lllll;if(isset($lllll['news_random']))return $lllll['news_random'];$yyy=intval($yyy);$ggggg=intval($yyy*10);$ll=new db_query('SELECT new_id,new_title,cat_name
                              FROM news
                               LEFT JOIN categories ON cat_id = new_cat_id
                              WHERE new_active = 1
                              AND new_date <= '.TIMESTAMP.'
                              AND new_view >= '.MIN_NEWS_VIEW.'
                              LIMIT 0,'.$ggggg);$kkkkkk=array();while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_detail']=generate_news_detail_url($ooooo);$ooooo['new_title']=htmlspecialbo($ooooo['new_title']);$kkkkkk[]=$ooooo;}unset($ll);shuffle($kkkkkk);$llllll=0;$mmmmmm=array();foreach($kkkkkk as $nnnnnn){$llllll++;if($llllll>$yyy)break;$mmmmmm[]=$nnnnnn;}$lllll['news_random']=$mmmmmm;return $mmmmmm;}function get_news_ban_co_biet($yyy=4){global $lllll;if(isset($lllll['ban_co_biet']))return $lllll['ban_co_biet'];$oooooo=3;$ggggg=intval($yyy)*5;$jj='SELECT new_id,new_picture,new_title,cat_name,cat_id
            FROM news
            LEFT JOIN categories ON cat_id = new_cat_id
            WHERE new_cat_id = '.$oooooo.'
                AND new_active = 1
                AND new_view >= '.MIN_NEWS_VIEW.'
                AND new_date <= '.TIMESTAMP.'
                AND new_date >= '.MIN_TIME_NEWS_HOT.'
            LIMIT '.$ggggg;$ll=new db_query($jj);$kkkkkk=array();while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_detail']=generate_news_detail_url($ooooo);$ooooo['new_title']=htmlspecialbo($ooooo['new_title']);$kkkkkk['link_cat']=generate_cat_url($ooooo);$kkkkkk['cat_name']=$ooooo['cat_name'];$kkkkkk['array_news'][]=$ooooo;}if(!$kkkkkk){$jj='SELECT new_id,new_picture,new_title,cat_name,cat_id
                FROM news
                LEFT JOIN categories ON cat_id = new_cat_id
                WHERE new_cat_id = '.$oooooo.'
                    AND new_active = 1
                    AND new_date <= '.TIMESTAMP.'
                ORDER BY new_date DESC
                LIMIT '.$ggggg;$ll=new db_query($jj);while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['link_detail']=generate_news_detail_url($ooooo);$ooooo['new_title']=htmlspecialbo($ooooo['new_title']);$kkkkkk['link_cat']=generate_cat_url($ooooo);$kkkkkk['cat_name']=$ooooo['cat_name'];$kkkkkk['array_news'][]=$ooooo;}}unset($ll);shuffle($kkkkkk['array_news']);$llllll=0;$mmmmmm=array();foreach($kkkkkk['array_news']as $nnnnnn){$llllll++;if($llllll==1){$nnnnnn['new_picture']=get_picture_path($nnnnnn['new_picture'],'medium');$nnnnnn['is_first']=1;}if($llllll>$yyy)break;$mmmmmm[]=$nnnnnn;}$kkkkkk['array_news']=$mmmmmm;$lllll['ban_co_biet']=$kkkkkk;return $kkkkkk;}function get_all_section(){global $lllll;if(isset($lllll['all_section']))return $lllll['all_section'];$pppppp=new db_query('SELECT sec_id,sec_name FROM sections');$qqqqqq=array();while($ooooo=mysqli_fetch_assoc($pppppp->result)){$qqqqqq[$ooooo['sec_id']]=$ooooo['sec_name'];}$lllll['all_section']=$qqqqqq;return $qqqqqq;}function get_question_relate($rrrrrr,$yyy,$ssssss,$tttttt){if(!$rrrrrr){return array();}$rrrrrr=explode(',',$rrrrrr);$uuuuuu=array();$vvvvvv=array();foreach($rrrrrr as $wwwwww){$ll=new db_query('SELECT que_id,que_title,que_date,cat_name
                                  FROM questions
                                  LEFT JOIN categories ON que_cat_id = cat_id
                                  WHERE que_cat_id = '.$tttttt.' AND que_tags LIKE "%'.$wwwwww.'%" AND que_id <> '.$ssssss.'
                                  ORDER BY que_date DESC
                                  LIMIT 20');while($ooooo=mysqli_fetch_assoc($ll->result)){$ooooo['que_title']=htmlspecialbo($ooooo['que_title']);$ooooo['que_date']=date('d/m',$ooooo['que_date']);$ooooo['link_detail']=generate_hoidap_detail($ooooo);$uuuuuu[]=$ooooo;$vvvvvv[]=$ooooo['que_id'];}}$uuuuuu=array_unique($uuuuuu);$vvvvvv=array_unique($vvvvvv);shuffle($uuuuuu);$uuuuuu=array_slice($uuuuuu,0,$yyy);shuffle($vvvvvv);$vvvvvv=array_slice($vvvvvv,0,$yyy);if($vvvvvv){$vvvvvv=implode(',',$vvvvvv);}else{$vvvvvv='';}$xxxxxx=new db_execute('UPDATE questions SET que_relate = "'.$vvvvvv.'" WHERE que_id = '.$ssssss);unset($xxxxxx);return $uuuuuu;}function htmlspecialbo($bbb){$yyyyyy=array('<','>','\"','"');$zzzzzz=array('&lt;','&gt;','&quot;','&quot;');$bbb=str_replace($yyyyyy,$zzzzzz,$bbb);return $bbb;}function http_digest_parse($aaaaaaa){$bbbbbbb=array('nonce'=>1,'nc'=>1,'cnonce'=>1,'qop'=>1,'username'=>1,'uri'=>1,'response'=>1);$ss=array();$ccccccc=implode('|',array_keys($bbbbbbb));preg_match_all('@('.$ccccccc.')=(?:([\'"])([^\2]+?)\2|([^\s,]+))@',$aaaaaaa,$ddddddd,PREG_SET_ORDER);foreach($ddddddd as $eeeeeee){$ss[$eeeeeee[1]]=$eeeeeee[3]?$eeeeeee[3]:$eeeeeee[4];unset($bbbbbbb[$eeeeeee[1]]);}return $bbbbbbb?false:$ss;}function javascript_writer($bbb){$fffffff="";for($w=0;$w<strlen($bbb);$w++){$fffffff.=ord(substr($bbb,$w,1)).",";}if($fffffff!="")$fffffff.="32";return "<script language='javascript'>document.write(String.fromCharCode(".$fffffff."));</script>";}function lang_path(){global $ggggggg;global $hhhhhhh;global $iiiiiii;$jjjjjjj=1;$kkkkkkk=($ggggggg==$jjjjjjj)?$iiiiiii:$iiiiiii.$hhhhhhh[$ggggggg][0]."/";return $kkkkkkk;}function link_embeb_video($ww,$lllllll=0){$mmmmmmm=array('version'=>3,'feature'=>'oembed','autoplay'=>$lllllll,'wmode'=>'opaque','rel'=>0,'showinfo'=>0,'modestbranding'=>1,'enablejsapi'=>1,'ps'=>'docs','nologo'=>1,'theme'=>'dark','color'=>'white','iv_load_policy'=>0,'cc_load_policy'=>1);$nnnnnnn='';foreach($mmmmmmm as $ooooooo=>$s){$nnnnnnn.=$ooooooo.'='.$s.'&';}$nnnnnnn=trim($nnnnnnn,'&');return 'http://www.youtube.com/embed/'.$ww.'?'.$nnnnnnn;}function logs($ppppppp,$g){$qqqqqqq=debug_backtrace();$qqqqqqq=array_shift($qqqqqqq);$rrrrrrr=$_SERVER["DOCUMENT_ROOT"]."/logs/";$sssssss=@fopen($rrrrrrr.$ppppppp.".cfn","a");if(!$sssssss)$sssssss=@fopen($rrrrrrr.$ppppppp.".cfn","a");if(!$sssssss)return;fwrite($sssssss,"-------------------------------------------------------------------------------------------------------------------"."\n| DATETIME\t| ".date("d/m/Y - G:i:s")."\n| FILE\t\t| ".$qqqqqqq['file']."\n| IP\t\t\t| ".@$_SERVER["REMOTE_ADDR"]."\n| LINE\t\t| ".$qqqqqqq['line']."\n| FUNCTION\t| ".$qqqqqqq['function']."\n| MESSAGES\t| ".$g."\n"."-------------------------------------------------------------------------------------------------------------------\n");fclose($sssssss);}function microtime_float(){list($ttttttt,$uuuuuuu)=explode(" ",microtime());return((float)$ttttttt+(float)$uuuuuuu);}function redirect($y){$y=htmlspecialbo($y);echo '<script type="text/javascript">window.location.href = "'.$y.'";</script>';exit();}function move302($y){header('location:'.$y);}function move301($y){header("HTTP/1.1 301 Moved Permanently");header('location:'.$y);}function pjax_param_create($l=array()){$l=base64_encode(json_encode($l));return $l;}function pjax_param_parse($tttt=''){$l=json_decode(base64_decode($tttt),1);return $l;}function reload($vvvvvvv=0){echo '<meta http-equiv="REFRESH" content="'.$vvvvvvv.'" />';exit();}function replace_xss_js($tttt){$tttt=preg_replace('/http:\/\//si','',$tttt);return "http://".$tttt;}function removeAccent($wwwwwww){$xxxxxxx=array("à","á","&#7841;","&#7843;","ã","â","&#7847;","&#7845;","&#7853;","&#7849;","&#7851;","&#259;","&#7857;","&#7855;","&#7863;","&#7859;","&#7861;","è","é","&#7865;","&#7867;","&#7869;","ê","&#7873;","&#7871;","&#7879;","&#7875;","&#7877;","ì","í","&#7883;","&#7881;","&#297;","ò","ó","&#7885;","&#7887;","õ","ô","&#7891;","&#7889;","&#7897;","&#7893;","&#7895;","&#417;","&#7901;","&#7899;","&#7907;","&#7903;","&#7905;","ù","ú","&#7909;","&#7911;","&#361;","&#432;","&#7915;","&#7913;","&#7921;","&#7917;","&#7919;","&#7923;","ý","&#7925;","&#7927;","&#7929;","&#273;","&#272;","'","À","Á","&#7840;","&#7842;","Ã","Â","&#7846;","&#7844;","&#7852;","&#7848;","&#7850;","&#258;","&#7856;","&#7854;","&#7862;","&#7858;","&#7860;","È","É","&#7864;","&#7866;","&#7868;","Ê","&#7872;","&#7870;","&#7878;","&#7874;","&#7876;","Ì","Í","&#7882;","&#7880;","&#296;","Ò","Ó","&#7884;","&#7886;","Õ","Ô","&#7890;","&#7888;","&#7896;","&#7892;","&#7894;","&#416;","&#7900;","&#7898;","&#7906;","&#7902;","&#7904;","Ù","Ú","&#7908;","&#7910;","&#360;","&#431;","&#7914;","&#7912;","&#7920;","&#7916;","&#7918;","&#7922;","Ý","&#7924;","&#7926;","&#7928;","&#272;","&#272;","'",);$yyyyyyy=array("a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","e","e","e","e","e","e","e","e","e","e","e","i","i","i","i","i","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","u","u","u","u","u","u","u","u","u","u","u","y","y","y","y","y","d","D","","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","E","E","E","E","E","E","E","E","E","E","E","I","I","I","I","I","O","O","O","O","O","O","O","O","O","O","O","O","O","O","O","O","O","U","U","U","U","U","U","U","U","U","U","U","Y","Y","Y","Y","Y","D","D","",);return str_replace($xxxxxxx,$yyyyyyy,$wwwwwww);}function unicode($bbb){if(!$bbb)return false;$zzzzzzz=array('a'=>array('á','à','&#7843;','ã','&#7841;','&#259;','&#7855;','&#7863;','&#7857;','&#7859;','&#7861;','â','&#7845;','&#7847;','&#7849;','&#7851;','&#7853;'),'A'=>array('Á','À','&#7842;','Ã','&#7840;','&#258;','&#7854;','&#7862;','&#7856;','&#7858;','&#7860;','Â','&#7844;','&#7846;','&#7848;','&#7850;','&#7852;'),'d'=>array('&#273;'),'D'=>array('&#272;'),'e'=>array('é','è','&#7867;','&#7869;','&#7865;','ê','&#7871;','&#7873;','&#7875;','&#7877;','&#7879;'),'E'=>array('É','È','&#7866;','&#7868;','&#7864;','Ê','&#7870;','&#7872;','&#7874;','&#7876;','&#7878;'),'i'=>array('í','ì','&#7881;','&#297;','&#7883;'),'I'=>array('Í','Ì','&#7880;','&#296;','&#7882;'),'o'=>array('ó','ò','&#7887;','õ','&#7885;','ô','&#7889;','&#7891;','&#7893;','&#7895;','&#7897;','&#417;','&#7899;','&#7901;','&#7903;','&#7905;','&#7907;'),'0'=>array('Ó','Ò','&#7886;','Õ','&#7884;','Ô','&#7888;','&#7890;','&#7892;','&#7894;','&#7896;','&#416;','&#7898;','&#7900;','&#7902;','&#7904;','&#7906;'),'u'=>array('ú','ù','&#7911;','&#361;','&#7909;','&#432;','&#7913;','&#7915;','&#7917;','&#7919;','&#7921;'),'U'=>array('Ú','Ù','&#7910;','&#360;','&#7908;','&#431;','&#7912;','&#7914;','&#7916;','&#7918;','&#7920;'),'y'=>array('ý','&#7923;','&#7927;','&#7929;','&#7925;'),'Y'=>array('Ý','&#7922;','&#7926;','&#7928;','&#7924;'),'-'=>array(",",' ','&quot;','.',"'",'"'),''=>array('!','?'));foreach($zzzzzzz as $aaaaaaaa=>$bbbbbbbb){foreach($bbbbbbbb as $s)$bbb=str_replace($s,$aaaaaaaa,$bbb);}$bbb=strtolower($bbb);return $bbb;}function removeHTML($tttt,$cccccccc=false){$tttt=preg_replace('/<script.*?\>.*?<\/script>/si',' ',$tttt);$tttt=preg_replace('/<style.*?\>.*?<\/style>/si',' ',$tttt);$tttt=preg_replace('/<xml.*?\>.*?<\/xml>/si',' ',$tttt);if($cccccccc){$tttt=str_replace('<br>',"\r\n",$tttt);$tttt=str_replace('<br/>',"\r\n",$tttt);$tttt=str_replace('<br />',"\r\n",$tttt);$tttt=preg_replace('/<.*?\>/si',' ',$tttt);$tttt=str_replace('&nbsp;',' ',$tttt);$tttt=mb_convert_encoding($tttt,"UTF-8","UTF-8");$tttt=str_replace(array(chr(9)),' ',$tttt);}else{$tttt=preg_replace('/<.*?\>/si',' ',$tttt);$tttt=str_replace('&nbsp;',' ',$tttt);$tttt=mb_convert_encoding($tttt,"UTF-8","UTF-8");$tttt=str_replace(array(chr(9),chr(10),chr(13)),' ',$tttt);}for($w=0;$w<=5;$w++)$tttt=str_replace('  ',' ',$tttt);return $tttt;}function remove_script($tttt){$tttt=preg_replace('/<script.*?\>.*?<\/script>/si',' ',$tttt);$tttt=preg_replace('/<xml.*?\>.*?<\/xml>/si',' ',$tttt);$tttt=preg_replace('/<style.*?\>.*?<\/style>/si',' ',$tttt);$tttt=mb_convert_encoding($tttt,"UTF-8","UTF-8");return $tttt;}function removeLink($tttt){$tttt=preg_replace('/<a.*?\>/si','',$tttt);$tttt=preg_replace('/<\/a>/si','',$tttt);return $tttt;}function replaceFCK($tttt,$eeeee=0){$dddddddd=array("Ç"=>"&Ccedil;","ç"=>"&ccedil;","Ë"=>"&Euml;","ë"=>"&euml;","&#262;"=>"&#262;","&#263;"=>"&#263;","&#268;"=>"&#268;","&#269;"=>"&#269;","&#272;"=>"&#272;","&#273;"=>"&#273;","Š"=>"&#352;","š"=>"&#353;","Ž"=>"&#381;","ž"=>"&#382;","À"=>"&Agrave;","à"=>"&agrave;","Ç"=>"&Ccedil;","ç"=>"&ccedil;","È"=>"&Egrave;","è"=>"&egrave;","É"=>"&Eacute;","é"=>"&eacute;","Í"=>"&Iacute;","í"=>"&iacute;","Ï"=>"&Iuml;","ï"=>"&iuml;","Ò"=>"&Ograve;","ò"=>"&ograve;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ü"=>"&Uuml;","ü"=>"&uuml;","·"=>"&middot;","&#262;"=>"&#262;","&#263;"=>"&#263;","&#268;"=>"&#268;","&#269;"=>"&#269;","&#272;"=>"&#272;","&#273;"=>"&#273;","Š"=>"&#352;","š"=>"&#353;","Ž"=>"&#381;","ž"=>"&#382;","Á"=>"&Aacute;","á"=>"&aacute;","&#268;"=>"&#268;","&#269;"=>"&#269;","&#270;"=>"&#270;","&#271;"=>"&#271;","É"=>"&Eacute;","é"=>"&eacute;","&#282;"=>"&#282;","&#283;"=>"&#283;","Í"=>"&Iacute;","í"=>"&iacute;","&#327;"=>"&#327;","&#328;"=>"&#328;","Ó"=>"&Oacute;","ó"=>"&oacute;","&#344;"=>"&#344;","&#345;"=>"&#345;","Š"=>"&#352;","š"=>"&#353;","&#356;"=>"&#356;","&#357;"=>"&#357;","Ú"=>"&Uacute;","ú"=>"&uacute;","&#366;"=>"&#366;","&#367;"=>"&#367;","Ý"=>"&Yacute;","ý"=>"&yacute;","Ž"=>"&#381;","ž"=>"&#382;","Æ"=>"&AElig;","æ"=>"&aelig;","Ø"=>"&Oslash;","ø"=>"&oslash;","Å"=>"&Aring;","å"=>"&aring;","É"=>"&Eacute;","é"=>"&eacute;","Ë"=>"&Euml;","ë"=>"&euml;","Ó"=>"&Oacute;","ó"=>"&oacute;","&#264;"=>"&#264;","&#265;"=>"&#265;","&#284;"=>"&#284;","&#285;"=>"&#285;","&#292;"=>"&#292;","&#293;"=>"&#293;","&#308;"=>"&#308;","&#309;"=>"&#309;","&#348;"=>"&#348;","&#349;"=>"&#349;","&#364;"=>"&#364;","&#365;"=>"&#365;","Ä"=>"&Auml;","ä"=>"&auml;","Ö"=>"&Ouml;","ö"=>"&ouml;","Õ"=>"&Otilde;","õ"=>"&otilde;","Ü"=>"&Uuml;","ü"=>"&uuml;","Á"=>"&Aacute;","á"=>"&aacute;","Ð"=>"&ETH;","ð"=>"&eth;","Í"=>"&Iacute;","í"=>"&iacute;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ý"=>"&Yacute;","ý"=>"&yacute;","Æ"=>"&AElig;","æ"=>"&aelig;","Ø"=>"&Oslash;","ø"=>"&oslash;","Ä"=>"&Auml;","ä"=>"&auml;","Ö"=>"&Ouml;","ö"=>"&ouml;","À"=>"&Agrave;","à"=>"&agrave;","Â"=>"&Acirc;","â"=>"&acirc;","Ç"=>"&Ccedil;","ç"=>"&ccedil;","È"=>"&Egrave;","è"=>"&egrave;","É"=>"&Eacute;","é"=>"&eacute;","Ê"=>"&Ecirc;","ê"=>"&ecirc;","Ë"=>"&Euml;","ë"=>"&euml;","Î"=>"&Icirc;","î"=>"&icirc;","Ï"=>"&Iuml;","ï"=>"&iuml;","Ô"=>"&Ocirc;","ô"=>"&ocirc;","Œ"=>"&OElig;","œ"=>"&oelig;","Ù"=>"&Ugrave;","ù"=>"&ugrave;","Û"=>"&Ucirc;","û"=>"&ucirc;","Ü"=>"&Uuml;","ü"=>"&uuml;","Ÿ"=>"&#376;","ÿ"=>"&yuml;","Ä"=>"&Auml;","ä"=>"&auml;","Ö"=>"&Ouml;","ö"=>"&ouml;","Ü"=>"&Uuml;","ü"=>"&uuml;","ß"=>"&szlig;","Á"=>"&Aacute;","á"=>"&aacute;","Â"=>"&Acirc;","â"=>"&acirc;","Ã"=>"&Atilde;","ã"=>"&atilde;","Í"=>"&Iacute;","í"=>"&iacute;","Î"=>"&Icirc;","î"=>"&icirc;","&#296;"=>"&#296;","&#297;"=>"&#297;","Ú"=>"&Uacute;","ù"=>"&ugrave;","Û"=>"&Ucirc;","û"=>"&ucirc;","&#360;"=>"&#360;","&#361;"=>"&#361;","&#312;"=>"&#312;","Á"=>"&Aacute;","á"=>"&aacute;","É"=>"&Eacute;","é"=>"&eacute;","Í"=>"&Iacute;","í"=>"&iacute;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ö"=>"&Ouml;","ö"=>"&ouml;","&#336;"=>"&#336;","&#337;"=>"&#337;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ü"=>"&Uuml;","ü"=>"&uuml;","&#368;"=>"&#368;","&#369;"=>"&#369;","Á"=>"&Aacute;","á"=>"&aacute;","Ð"=>"&ETH;","ð"=>"&eth;","É"=>"&Eacute;","é"=>"&eacute;","Í"=>"&Iacute;","í"=>"&iacute;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ý"=>"&Yacute;","ý"=>"&yacute;","Þ"=>"&THORN;","þ"=>"&thorn;","Æ"=>"&AElig;","æ"=>"&aelig;","Ö"=>"&Ouml;","ö"=>"&uml;","Á"=>"&Aacute;","á"=>"&aacute;","É"=>"&Eacute;","é"=>"&eacute;","Í"=>"&Iacute;","í"=>"&iacute;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ú"=>"&Uacute;","ú"=>"&uacute;","À"=>"&Agrave;","à"=>"&agrave;","Â"=>"&Acirc;","â"=>"&acirc;","È"=>"&Egrave;","è"=>"&egrave;","É"=>"&Eacute;","é"=>"&eacute;","Ê"=>"&Ecirc;","ê"=>"&ecirc;","Ì"=>"&Igrave;","ì"=>"&igrave;","Í"=>"&Iacute;","í"=>"&iacute;","Î"=>"&Icirc;","î"=>"&icirc;","Ï"=>"&Iuml;","ï"=>"&iuml;","Ò"=>"&Ograve;","ò"=>"&ograve;","Ô"=>"&Ocirc;","ô"=>"&ocirc;","Ù"=>"&Ugrave;","ù"=>"&ugrave;","Û"=>"&Ucirc;","û"=>"&ucirc;","&#256;"=>"&#256;","&#257;"=>"&#257;","&#268;"=>"&#268;","&#269;"=>"&#269;","&#274;"=>"&#274;","&#275;"=>"&#275;","&#290;"=>"&#290;","&#291;"=>"&#291;","&#298;"=>"&#298;","&#299;"=>"&#299;","&#310;"=>"&#310;","&#311;"=>"&#311;","&#315;"=>"&#315;","&#316;"=>"&#316;","&#325;"=>"&#325;","&#326;"=>"&#326;","&#342;"=>"&#342;","&#343;"=>"&#343;","Š"=>"&#352;","š"=>"&#353;","&#362;"=>"&#362;","&#363;"=>"&#363;","Ž"=>"&#381;","ž"=>"&#382;","Æ"=>"&AElig;","æ"=>"&aelig;","Ø"=>"&Oslash;","ø"=>"&oslash;","Å"=>"&Aring;","å"=>"&aring;","&#260;"=>"&#260;","&#261;"=>"&#261;","&#262;"=>"&#262;","&#263;"=>"&#263;","&#280;"=>"&#280;","&#281;"=>"&#281;","&#321;"=>"&#321;","&#322;"=>"&#322;","&#323;"=>"&#323;","&#324;"=>"&#324;","Ó"=>"&Oacute;","ó"=>"&oacute;","&#346;"=>"&#346;","&#347;"=>"&#347;","&#377;"=>"&#377;","&#378;"=>"&#378;","&#379;"=>"&#379;","&#380;"=>"&#380;","À"=>"&Agrave;","à"=>"&agrave;","Á"=>"&Aacute;","á"=>"&aacute;","Â"=>"&Acirc;","â"=>"&acirc;","Ã"=>"&Atilde;","ã"=>"&atilde;","Ç"=>"&Ccedil;","ç"=>"&ccedil;","È"=>"&Egrave;","è"=>"&egrave;","É"=>"&Eacute;","é"=>"&eacute;","Ê"=>"&Ecirc;","ê"=>"&ecirc;","Ì"=>"&Igrave;","ì"=>"&igrave;","Í"=>"&Iacute;","í"=>"&iacute;","Ï"=>"&Iuml;","ï"=>"&iuml;","Ò"=>"&Ograve;","ò"=>"&ograve;","Ó"=>"&Oacute;","ó"=>"&oacute;","Õ"=>"&Otilde;","õ"=>"&otilde;","Ù"=>"&Ugrave;","ù"=>"&ugrave;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ü"=>"&Uuml;","ü"=>"&uuml;","ª"=>"&ordf;","º"=>"&ordm;","&#258;"=>"&#258;","&#259;"=>"&#259;","Â"=>"&Acirc;","â"=>"&acirc;","Î"=>"&Icirc;","î"=>"&icirc;","&#350;"=>"&#350;","&#351;"=>"&#351;","&#354;"=>"&#354;","&#355;"=>"&#355;","Á"=>"&Aacute;","á"=>"&aacute;","&#268;"=>"&#268;","&#269;"=>"&#269;","&#272;"=>"&#272;","&#273;"=>"&#273;","&#330;"=>"&#330;","&#331;"=>"&#331;","Š"=>"&#352;","š"=>"&#353;","&#358;"=>"&#358;","&#359;"=>"&#359;","Ž"=>"&#381;","ž"=>"&#382;","À"=>"&Agrave;","à"=>"&agrave;","È"=>"&Egrave;","è"=>"&egrave;","É"=>"&Eacute;","é"=>"&eacute;","Ì"=>"&Igrave;","ì"=>"&igrave;","Ò"=>"&Ograve;","ò"=>"&ograve;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ù"=>"&Ugrave;","ù"=>"&ugrave;","Á"=>"&Aacute;","á"=>"&aacute;","Ä"=>"&Auml;","ä"=>"&auml;","&#268;"=>"&#268;","&#269;"=>"&#269;","&#270;"=>"&#270;","&#271;"=>"&#271;","É"=>"&Eacute;","é"=>"&eacute;","&#313;"=>"&#313;","&#314;"=>"&#314;","&#317;"=>"&#317;","&#318;"=>"&#318;","&#327;"=>"&#327;","&#328;"=>"&#328;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ô"=>"&Ocirc;","ô"=>"&ocirc;","&#340;"=>"&#340;","&#341;"=>"&#341;","Š"=>"&#352;","š"=>"&#353;","&#356;"=>"&#356;","&#357;"=>"&#357;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ý"=>"&Yacute;","ý"=>"&yacute;","Ž"=>"&#381;","ž"=>"&#382;","&#268;"=>"&#268;","&#269;"=>"&#269;","Š"=>"&#352;","š"=>"&#353;","Ž"=>"&#381;","ž"=>"&#382;","Á"=>"&Aacute;","á"=>"&aacute;","É"=>"&Eacute;","é"=>"&eacute;","Í"=>"&Iacute;","í"=>"&iacute;","Ó"=>"&Oacute;","ó"=>"&oacute;","Ñ"=>"&Ntilde;","ñ"=>"&ntilde;","Ú"=>"&Uacute;","ú"=>"&uacute;","Ü"=>"&Uuml;","ü"=>"&uuml;","¡"=>"&iexcl;","ª"=>"&ordf;","¿"=>"&iquest;","º"=>"&ordm;","Å"=>"&Aring;","å"=>"&aring;","Ä"=>"&Auml;","ä"=>"&auml;","Ö"=>"&Ouml;","ö"=>"&ouml;","Ç"=>"&Ccedil;","ç"=>"&ccedil;","&#286;"=>"&#286;","&#287;"=>"&#287;","&#304;"=>"&#304;","&#305;"=>"&#305;","Ö"=>"&Ouml;","ö"=>"&ouml;","&#350;"=>"&#350;","&#351;"=>"&#351;","Ü"=>"&Uuml;","ü"=>"&uuml;","€"=>"&euro;","£"=>"&pound;","«"=>"&laquo;","»"=>"&raquo;","•"=>"&bull;","†"=>"&dagger;","©"=>"&copy;","®"=>"&reg;","™"=>"&trade;","°"=>"&deg;","‰"=>"&permil;","µ"=>"&micro;","·"=>"&middot;","–"=>"&ndash;","—"=>"&mdash;","“"=>"&#8220;","”"=>"&#8221;","\""=>"&#034;","&#8470;"=>"&#8470;");$eeeeeeee=array("&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Egrave;","&Eacute;","&Ecirc;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ugrave;","&Uacute;","&Yacute;","&agrave;","&aacute;","&acirc;","&atilde;","&egrave;","&eacute;","&ecirc;","&igrave;","&iacute;","&ograve;","&oacute;","&ocirc;","&otilde;","&ugrave;","&uacute;","&ucirc;","&yacute;",);$ffffffff=array("&Agrave","&Aacute","&Acirc","&Atilde","&Egrave","&Eacute","&Ecirc","&Igrave","&Iacute","&Icirc","&Iuml","&ETH","&Ograve","&Oacute","&Ocirc","&Otilde","&Ugrave","&Uacute","&Yacute","&agrave","&aacute","&acirc","&atilde","&egrave","&eacute","&ecirc","&igrave","&iacute","&ograve","&oacute","&ocirc","&otilde","&ugrave","&uacute","&ucirc","&yacute","&agrave");$gggggggg=array("À","Á","Â","Ã","È","É","Ê","Ì","Í","Î","Ï","Ð","Ò","Ó","Ô","Õ","Ù","Ú","Ý","à","á","â","ã","è","é","ê","ì","í","ò","ó","ô","õ","ù","ú","û","ý","&#7841;");if($eeeee==1){foreach($dddddddd as $r=>$hhhhhhhh){$tttt=str_replace($hhhhhhhh,$r,$tttt);}}else $tttt=str_replace($gggggggg,$eeeeeeee,$tttt);return $tttt;}function replaceJS($iiiiiiii){$jjjjjjjj=array("\'","'",'"',"&#39","&#39;",chr(10),chr(13),"\n");$kkkkkkkk=array(" "," ",'&quot;'," "," "," "," ");$iiiiiiii=str_replace($jjjjjjjj,$kkkkkkkk,$iiiiiiii);$iiiiiiii=str_replace("    "," ",$iiiiiiii);$iiiiiiii=str_replace("   "," ",$iiiiiiii);$iiiiiiii=str_replace("  "," ",$iiiiiiii);return $iiiiiiii;}function replace_keyword_search($llllllll,$mmmmmmmm=1){if($mmmmmmmm==1)$llllllll=mb_strtolower($llllllll,"UTF-8");$llllllll=replaceMQ($llllllll);$nnnnnnnn=array("'",'"',"-","+","=","*","?","/","!","~","#","@","%","$","^","&","(",")",";",":","\\",".",",","[","]","{","}","‘","’",'“','”');$llllllll=str_replace($nnnnnnnn," ",$llllllll);$llllllll=str_replace("  "," ",$llllllll);$llllllll=str_replace("  "," ",$llllllll);return $llllllll;}function replaceMQ($iiiiiiii){$iiiiiiii=str_replace("\\","",$iiiiiiii);$iiiiiiii=str_replace("\'","'",$iiiiiiii);$iiiiiiii=str_replace("'","''",$iiiiiiii);return $iiiiiiii;}function remove_magic_quote($bbb){$bbb=str_replace("\'","'",$bbb);$bbb=str_replace("\&quot;","&quot;",$bbb);$bbb=str_replace("\\\\","\\",$bbb);return $bbb;}function removeSpecialChar($tttt){$tttt=str_replace("@",'',$tttt);$tttt=str_replace("!",'',$tttt);$tttt=str_replace("#",'',$tttt);$tttt=str_replace("$",'',$tttt);$tttt=str_replace("%",'',$tttt);$tttt=str_replace("^",'',$tttt);$tttt=str_replace("&",'',$tttt);$tttt=str_replace("*",'',$tttt);$tttt=str_replace("(",'',$tttt);$tttt=str_replace(")",'',$tttt);$tttt=str_replace("_",'',$tttt);$tttt=str_replace("+",'',$tttt);$tttt=str_replace("+",'',$tttt);$tttt=str_replace(":",'',$tttt);return $tttt;}function remove_source($iiiiiiii){$oooooooo=array('(VnMedia) - ','(VnMedia)','(AutoPro)-','(AutoPro)','(Dân trí) -','(Dân trí)','Giadinh.net -','(Giadinh.net) - ','Giadinh.net','GiadinhNet -','GiadinhNet ','[Kênh 14]-','[Kênh 14] -','[Kênh 14]','(TNO)','(thegioioto)','TPO - ','TP- ','TP - ','TPO – ','(VietNamNet) -','(VietNamNet)','(VnMedia)-','(VnMedia) -','(VnMedia)','(Techz.vn)','(Tinmoi.vn)','VOV.VN','(Kienthuc.net.vn) -','(Xã h&#7897;i) -','(Ngoisao.vn) -');$iiiiiiii=str_replace($oooooooo,"",$iiiiiiii);return $iiiiiiii;}function replaceNCR($bbb){$pppppppp=array("&#224;","&#225;","&#7841;","&#7843;","&#227;","&#226;","&#7847;","&#7845;","&#7853;","&#7849;","&#7851;","&#259;","&#7857;","&#7855;","&#7863;","&#7859;","&#7861;","&#232;","&#233;","&#7865;","&#7867;","&#7869;","&#234;","&#7873;","&#7871;","&#7879;","&#7875;","&#7877;","&#236;","&#237;","&#7883;","&#7881;","&#297;","&#242;","&#243;","&#7885;","&#7887;","&#245;","&#244;","&#7891;","&#7889;","&#7897;","&#7893;","&#7895;","&#417;","&#7901;","&#7899;","&#7907;","&#7903;","&#7905;","&#249;","&#250;","&#7909;","&#7911;","&#361;","&#432;","&#7915;","&#7913;","&#7921;","&#7917;","&#7919;","&#7923;","&#253;","&#7925;","&#7927;","&#7929;","&#273;","&#192;","&#193;","&#7840;","&#7842;","&#195;","&#194;","&#7846;","&#7844;","&#7852;","&#7848;","&#7850;","&#258;","&#7856;","&#7854;","&#7862;","&#7858;","&#7860;","&#200;","&#201;","&#7864;","&#7866;","&#7868;","&#202;","&#7872;","&#7870;","&#7878;","&#7874;","&#7876;","&#204;","&#205;","&#7882;","&#7880;","&#296;","&#210;","&#211;","&#7884;","&#7886;","&#213;","&#212;","&#7890;","&#7888;","&#7896;","&#7892;","&#7894;","&#416;","&#7900;","&#7898;","&#7906;","&#7902;","&#7904;","&#217;","&#218;","&#7908;","&#7910;","&#360;","&#431;","&#7914;","&#7912;","&#7920;","&#7916;","&#7918;","&#7922;","&#221;","&#7924;","&#7926;","&#7928;","&#272;",);$qqqqqqqq=array("à","á","&#7841;","&#7843;","ã","â","&#7847;","&#7845;","&#7853;","&#7849;","&#7851;","&#259;","&#7857;","&#7855;","&#7863;","&#7859;","&#7861;","è","é","&#7865;","&#7867;","&#7869;","ê","&#7873;","&#7871;","&#7879;","&#7875;","&#7877;","ì","í","&#7883;","&#7881;","&#297;","ò","ó","&#7885;","&#7887;","õ","ô","&#7891;","&#7889;","&#7897;","&#7893;","&#7895;","&#417;","&#7901;","&#7899;","&#7907;","&#7903;","&#7905;","ù","ú","&#7909;","&#7911;","&#361;","&#432;","&#7915;","&#7913;","&#7921;","&#7917;","&#7919;","&#7923;","ý","&#7925;","&#7927;","&#7929;","&#273;","À","Á","&#7840;","&#7842;","Ã","Â","&#7846;","&#7844;","&#7852;","&#7848;","&#7850;","&#258;","&#7856;","&#7854;","&#7862;","&#7858;","&#7860;","È","É","&#7864;","&#7866;","&#7868;","Ê","&#7872;","&#7870;","&#7878;","&#7874;","&#7876;","Ì","Í","&#7882;","&#7880;","&#296;","Ò","Ó","&#7884;","&#7886;","Õ","Ô","&#7890;","&#7888;","&#7896;","&#7892;","&#7894;","&#416;","&#7900;","&#7898;","&#7906;","&#7902;","&#7904;","Ù","Ú","&#7908;","&#7910;","&#360;","&#431;","&#7914;","&#7912;","&#7920;","&#7916;","&#7918;","&#7922;","Ý","&#7924;","&#7926;","&#7928;","&#272;",);$bbb=str_replace($pppppppp,$qqqqqqqq,$bbb);return $bbb;}function setCookieValue($r,$s,$ii){setcookie($r,$s,time()+$ii,"/");setcookie($r,$s,time()+$ii,"/","khang.vn");setcookie($r,$s,time()+$ii,"/",".khang.vn");}function set_keyword_search($llllllll){$llllllll=removeHTML($llllllll);$llllllll=replaceMQ($llllllll);$llllllll=htmlspecialchars($llllllll);$llllllll=mb_strtolower($llllllll);$rrrrrrrr=new user();if($rrrrrrrr->logged()){$ssssssss=$rrrrrrrr->id;}else{$ssssssss=0;}$tttttttt=new db_execute('INSERT INTO keyword_temp(key_text,key_user_id) VALUES("'.$llllllll.'",'.$ssssssss.')');unset($tttttttt);}function sort_desc_array_value($uuuuuuuu,$vvvvvvvv){if($uuuuuuuu["count"]==$vvvvvvvv["count"]){return0;}return($uuuuuuuu["count"]>$vvvvvvvv["count"])?-1:1;}function sort_user_name_asc($uuuuuuuu,$vvvvvvvv){$wwwwwwww=ord(substr($uuuuuuuu["use_login"],0,1));$xxxxxxxx=ord(substr($vvvvvvvv["use_login"],0,1));if($wwwwwwww==$xxxxxxxx){return0;}return($wwwwwwww<$xxxxxxxx)?-1:1;}function sort_user_name_desc($uuuuuuuu,$vvvvvvvv){$wwwwwwww=ord(substr($uuuuuuuu["use_login"],0,1));$xxxxxxxx=ord(substr($vvvvvvvv["use_login"],0,1));if($wwwwwwww==$xxxxxxxx){return0;}return($wwwwwwww>$xxxxxxxx)?-1:1;}function sort_user_time_asc($uuuuuuuu,$vvvvvvvv){$wwwwwwww=$uuuuuuuu["last_gim"];$xxxxxxxx=$vvvvvvvv["last_gim"];if($wwwwwwww==$xxxxxxxx){return0;}return($wwwwwwww<$xxxxxxxx)?-1:1;}function sort_user_time_desc($uuuuuuuu,$vvvvvvvv){$wwwwwwww=$uuuuuuuu["last_gim"];$xxxxxxxx=$vvvvvvvv["last_gim"];if($wwwwwwww==$xxxxxxxx){return0;}return($wwwwwwww>$xxxxxxxx)?-1:1;}function save_image_url($y){$ttttt=array('error'=>0,'name'=>'','ext'=>'','path'=>'');$yyyyyyyy=curl_get_content($y);$ppppppp=generate_picture_name();$hhhhh=generate_dir_upload($ppppppp,'organic');$yyyy=get_header_type($y);if(!$yyyy){$ttttt['error']=1;return $ttttt;}$ppppppp=$ppppppp.'.'.$yyyy;if(file_put_contents($hhhhh.$ppppppp,$yyyyyyyy)){$ttttt=array('name'=>$ppppppp,'ext'=>$yyyy,'path'=>$hhhhh.$ppppppp,'error'=>0,'link'=>get_picture_path($ppppppp));}return $ttttt;}function string_start_with($zzzzzzzz,$aaaaaaaaa){return $aaaaaaaaa===""||strrpos($zzzzzzzz,$aaaaaaaaa,-strlen($zzzzzzzz))!==FALSE;}function string_end_with($zzzzzzzz,$aaaaaaaaa){return $aaaaaaaaa===""||(($bbbbbbbbb=strlen($zzzzzzzz)-strlen($aaaaaaaaa))>=0&&strpos($zzzzzzzz,$aaaaaaaaa,$bbbbbbbbb)!==FALSE);}function prepare_pharma_record(&$ss){if(isset($ss['pha_title'])&&$ss['pha_title']){$ss['pha_title']=htmlspecialbo($ss['pha_title']);}if(isset($ss['pha_image'])&&$ss['pha_image']){$ss['pha_image']=get_picture_path($ss['pha_image']);}$ss['link_detail']=generate_tuthuoc_detail($ss);return $ss;}function stop_service(){header("HTTP/1.0 200");$xxx=new RainTPL();echo $xxx->draw('stop_service',1);exit();}function tdt($ccccccccc){global $ddddddddd;if(isset($ddddddddd[$ccccccccc])){if(trim($ddddddddd[$ccccccccc])==""){return"#".$ccccccccc."#";}else{$eeeeeeeee=array("\\\\'",'\"');$nnnnnnnn=array("\\'",'"');return str_replace($eeeeeeeee,$nnnnnnnn,$ddddddddd[$ccccccccc]);}}else{return "_@".$ccccccccc."@_";}}